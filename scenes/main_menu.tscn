[gd_scene load_steps=4 format=3 uid="uid://611yoiuahrwr"]

[ext_resource type="Texture2D" uid="uid://bq81y2wjwhgwo" path="res://assets/visuals/background.jpg" id="1_lm2po"]
[ext_resource type="PackedScene" uid="uid://4x6khr08rb5k" path="res://scenes/lobby_manager.tscn" id="2_8bvu6"]
[ext_resource type="Script" path="res://scripts/Lobby.cs" id="2_iaept"]

[node name="Main Menu" type="Node"]

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="TextureRect" type="TextureRect" parent="CanvasLayer"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -960.0
offset_top = -540.0
offset_right = 960.0
offset_bottom = 540.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("1_lm2po")

[node name="Screen" type="MarginContainer" parent="CanvasLayer"]
offset_right = 1920.0
offset_bottom = 1080.0
theme_override_constants/margin_left = 160
theme_override_constants/margin_right = 160
theme_override_constants/margin_bottom = 180

[node name="VBoxContainer" type="VBoxContainer" parent="CanvasLayer/Screen"]
layout_mode = 2

[node name="Title" type="Label" parent="CanvasLayer/Screen/VBoxContainer"]
layout_mode = 2
theme_override_colors/font_shadow_color = Color(0, 0, 0, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/shadow_offset_x = 15
theme_override_constants/shadow_offset_y = 15
theme_override_constants/outline_size = 30
theme_override_constants/shadow_outline_size = 30
theme_override_font_sizes/font_size = 128
text = "Fortnite Monopoly"
horizontal_alignment = 1

[node name="Tabs" type="TabContainer" parent="CanvasLayer/Screen/VBoxContainer"]
unique_name_in_owner = true
layout_mode = 2

[node name="Create Lobby" type="MarginContainer" parent="CanvasLayer/Screen/VBoxContainer/Tabs"]
layout_mode = 2
theme_override_constants/margin_left = 500
theme_override_constants/margin_top = 252
theme_override_constants/margin_right = 500
theme_override_constants/margin_bottom = 251

[node name="VBoxContainer" type="VBoxContainer" parent="CanvasLayer/Screen/VBoxContainer/Tabs/Create Lobby"]
layout_mode = 2
theme_override_constants/separation = 75

[node name="Name Label" type="Label" parent="CanvasLayer/Screen/VBoxContainer/Tabs/Create Lobby/VBoxContainer"]
layout_mode = 2
theme_override_font_sizes/font_size = 48
text = "Username"

[node name="Create Name Field" type="TextEdit" parent="CanvasLayer/Screen/VBoxContainer/Tabs/Create Lobby/VBoxContainer/Name Label"]
unique_name_in_owner = true
layout_mode = 1
offset_top = 67.0
offset_right = 600.0
offset_bottom = 117.0
theme_override_font_sizes/font_size = 24
placeholder_text = "Enter Name..."

[node name="Create Button" type="Button" parent="CanvasLayer/Screen/VBoxContainer/Tabs/Create Lobby/VBoxContainer"]
modulate = Color(0.116308, 0.488901, 0.990762, 1)
layout_mode = 2
theme_override_font_sizes/font_size = 48
text = "Create Lobby"

[node name="Join Lobby" type="MarginContainer" parent="CanvasLayer/Screen/VBoxContainer/Tabs"]
visible = false
layout_mode = 2
theme_override_constants/margin_left = 500
theme_override_constants/margin_top = 181
theme_override_constants/margin_right = 500
theme_override_constants/margin_bottom = 180

[node name="VBoxContainer" type="VBoxContainer" parent="CanvasLayer/Screen/VBoxContainer/Tabs/Join Lobby"]
layout_mode = 2
theme_override_constants/separation = 75

[node name="Name Label" type="Label" parent="CanvasLayer/Screen/VBoxContainer/Tabs/Join Lobby/VBoxContainer"]
layout_mode = 2
theme_override_font_sizes/font_size = 48
text = "Username"

[node name="Join Name Field" type="TextEdit" parent="CanvasLayer/Screen/VBoxContainer/Tabs/Join Lobby/VBoxContainer/Name Label"]
unique_name_in_owner = true
layout_mode = 1
offset_top = 67.0
offset_right = 600.0
offset_bottom = 117.0
theme_override_font_sizes/font_size = 24
placeholder_text = "Enter Name..."

[node name="IP Label" type="Label" parent="CanvasLayer/Screen/VBoxContainer/Tabs/Join Lobby/VBoxContainer"]
layout_mode = 2
theme_override_font_sizes/font_size = 48
text = "IP Address"

[node name="IP Field" type="TextEdit" parent="CanvasLayer/Screen/VBoxContainer/Tabs/Join Lobby/VBoxContainer/IP Label"]
unique_name_in_owner = true
layout_mode = 1
offset_top = 67.0
offset_right = 600.0
offset_bottom = 117.0
theme_override_font_sizes/font_size = 24
placeholder_text = "Enter IP..."

[node name="Join Button" type="Button" parent="CanvasLayer/Screen/VBoxContainer/Tabs/Join Lobby/VBoxContainer"]
modulate = Color(0.116308, 0.488901, 0.990762, 1)
layout_mode = 2
theme_override_font_sizes/font_size = 48
text = "Join Lobby"

[node name="Lobby" type="PanelContainer" parent="CanvasLayer/Screen/VBoxContainer"]
unique_name_in_owner = true
visible = false
layout_mode = 2
script = ExtResource("2_iaept")

[node name="MarginContainer" type="MarginContainer" parent="CanvasLayer/Screen/VBoxContainer/Lobby"]
layout_mode = 2
theme_override_constants/margin_left = 259
theme_override_constants/margin_top = 25
theme_override_constants/margin_right = 259
theme_override_constants/margin_bottom = 50

[node name="Lobby Container" type="VBoxContainer" parent="CanvasLayer/Screen/VBoxContainer/Lobby/MarginContainer"]
unique_name_in_owner = true
layout_mode = 2
theme_override_constants/separation = 30

[node name="Lobby Title" type="Label" parent="CanvasLayer/Screen/VBoxContainer/Lobby/MarginContainer/Lobby Container"]
unique_name_in_owner = true
layout_mode = 2
theme_override_font_sizes/font_size = 64
text = "Username's Lobby"
horizontal_alignment = 1
text_overrun_behavior = 3

[node name="Buttons" type="HBoxContainer" parent="CanvasLayer/Screen/VBoxContainer/Lobby/MarginContainer/Lobby Container"]
layout_mode = 2
theme_override_constants/separation = 400

[node name="Start Button" type="Button" parent="CanvasLayer/Screen/VBoxContainer/Lobby/MarginContainer/Lobby Container/Buttons"]
unique_name_in_owner = true
modulate = Color(0.411765, 1, 0.47451, 1)
layout_mode = 2
theme_override_font_sizes/font_size = 48
disabled = true
text = "Start Game (1/4)"

[node name="Leave Button" type="Button" parent="CanvasLayer/Screen/VBoxContainer/Lobby/MarginContainer/Lobby Container/Buttons"]
modulate = Color(1, 0.184314, 0.184314, 1)
layout_mode = 2
theme_override_font_sizes/font_size = 48
text = "Leave Lobby"

[node name="LobbyManager" parent="." instance=ExtResource("2_8bvu6")]

[connection signal="pressed" from="CanvasLayer/Screen/VBoxContainer/Tabs/Create Lobby/VBoxContainer/Create Button" to="LobbyManager" method="CreateLobby"]
[connection signal="pressed" from="CanvasLayer/Screen/VBoxContainer/Tabs/Join Lobby/VBoxContainer/Join Button" to="LobbyManager" method="JoinLobby"]
[connection signal="pressed" from="CanvasLayer/Screen/VBoxContainer/Lobby/MarginContainer/Lobby Container/Buttons/Leave Button" to="CanvasLayer/Screen/VBoxContainer/Lobby" method="LeaveLobby"]
[connection signal="PlayerConnected" from="LobbyManager" to="CanvasLayer/Screen/VBoxContainer/Lobby" method="PlayerConnected"]
[connection signal="PlayerDisconnected" from="LobbyManager" to="CanvasLayer/Screen/VBoxContainer/Lobby" method="PlayerDisconnected"]
[connection signal="ServerDisconnected" from="LobbyManager" to="CanvasLayer/Screen/VBoxContainer/Lobby" method="ServerDisconnected"]
